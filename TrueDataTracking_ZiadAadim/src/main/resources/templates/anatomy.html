<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Anatomy</title>
    <link rel="stylesheet" th:href="@{/css/css/styles.css}">
</head>
<body>
<div class="container">
    <h1>Anatomy</h1>
    <h2>Select a Topic</h2>
    <a href="/main" class="back-button">Go Back</a>
    <div class="course-wrapper">
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Anatomy Introduction')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Anatomy Introduction</h3>
                <p>An overview of human anatomy for artists.</p>
            </div>
        </a>
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Head')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Head</h3>
                <p>Learn to draw human heads with proper proportions.</p>
            </div>
        </a>
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Hands')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Hands</h3>
                <p>Master the intricate details of drawing hands.</p>
            </div>
        </a>
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Torso')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Torso</h3>
                <p>Understand the structure and proportions of the torso.</p>
            </div>
        </a>
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Legs')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Legs</h3>
                <p>Learn to draw legs with proper anatomy and proportions.</p>
            </div>
        </a>
        <a href="/loading" class="course-card" onclick="logCardClick(event, 'anatomy', 'Feet')">
            <div class="image-placeholder"></div>
            <div class="course-info">
                <h3>Feet</h3>
                <p>Understand the structure and dynamics of feet in drawings.</p>
            </div>
        </a>
    </div>
</div>

<script>
    function logCardClick(event, page, section) {
        event.preventDefault(); // Prevent navigation
        const data = {
            eventType: "BUTTON_CLICK",
            page: page,
            buttonClicked: section,
            timestamp: new Date().toISOString(),
            userId: "dummy_user" // Replace with actual user ID if available
        };

        fetch('/api/events/log', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
            .then(response => {
                if (response.ok) {
                    console.log(`${section} click logged on page: ${page}`);
                } else {
                    console.error("Failed to log click event.");
                }
            })
            .catch(error => console.error("Error logging click:", error));

        // Navigate to the link after logging
        const href = event.target.closest("a").getAttribute("href");
        if (href) {
            window.location.href = href;
        }
    }
</script>
</body>
</html>


